import { common } from 'node-karin';
import { join } from 'path';
import { DataTypes, Sequelize } from 'sequelize';
import { Version } from '../../module/index.js';
common.mkdir(`${Version.karinPath}/data/${Version.pluginName}`);
const dataPath = join(Version.karinPath, 'data', Version.pluginName, 'push.db');
/** 创建 Sequelize 实例，需要传入配置对象。 */
const sequelize = new Sequelize({
    dialect: 'sqlite',
    storage: dataPath,
    logging: false
});
/** 测试数据库连接是否成功 */
await sequelize.authenticate();
export { DataTypes, sequelize };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tb2R1bGUvZGIvYmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sWUFBWSxDQUFBO0FBQ25DLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxNQUFNLENBQUE7QUFDM0IsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUE7QUFFaEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVsQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLFNBQVMsU0FBUyxPQUFPLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQTtBQUUvRCxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQTtBQUUvRSxnQ0FBZ0M7QUFDaEMsTUFBTSxTQUFTLEdBQUcsSUFBSSxTQUFTLENBQUM7SUFDOUIsT0FBTyxFQUFFLFFBQVE7SUFDakIsT0FBTyxFQUFFLFFBQVE7SUFDakIsT0FBTyxFQUFFLEtBQUs7Q0FDZixDQUFDLENBQUE7QUFFRixrQkFBa0I7QUFDbEIsTUFBTSxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUE7QUFFOUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsQ0FBQSJ9