import { Config } from '../../module/utils/index.js';
import { getBilibiliData, wbi_sign } from '@ikenxuan/amagi';
export async function genParams(apiURL) {
    if (Config.cookies.bilibili === '' || Config.cookies.bilibili === null)
        return { QUERY: '&platform=html5', STATUS: '!isLogin' };
    const logininfo = await getBilibiliData('登录基本信息', Config.cookies.bilibili);
    const sign = await wbi_sign(apiURL, Config.cookies.bilibili);
    const qn = [6, 16, 32, 64, 74, 80, 112, 116, 120, 125, 126, 127];
    let isvip;
    logininfo.data.vipStatus === 1 ? (isvip = true) : (isvip = false);
    if (isvip) {
        return { QUERY: `&fnval=16&fourk=1&${sign}`, STATUS: 'isLogin', isvip };
    }
    else
        return { QUERY: `&qn=${qn[3]}&fnval=16`, STATUS: 'isLogin', isvip };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuUGFyYW1zLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3BsYXRmb3JtL2JpbGliaWxpL2dlblBhcmFtcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUE7QUFDdkMsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQTtBQUUzRCxNQUFNLENBQUMsS0FBSyxVQUFVLFNBQVMsQ0FBRSxNQUFjO0lBQzdDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssRUFBRSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLElBQUk7UUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsQ0FBQTtJQUMvSCxNQUFNLFNBQVMsR0FBRyxNQUFNLGVBQWUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtJQUMxRSxNQUFNLElBQUksR0FBRyxNQUFNLFFBQVEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQTtJQUU1RCxNQUFNLEVBQUUsR0FBRyxDQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFFLENBQUE7SUFDbEUsSUFBSSxLQUFLLENBQUE7SUFDVCxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQTtJQUNqRSxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ1YsT0FBTyxFQUFFLEtBQUssRUFBRSxxQkFBcUIsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBQTtJQUN6RSxDQUFDOztRQUFNLE9BQU8sRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxDQUFBO0FBQzVFLENBQUMifQ==