# 推送功能

该功能为定时任务，默认每 10 分钟执行一次推送（可自定义推送间隔，建议使用后台面板修改或直接更改配置文件，不建议使用命令修改）

## 配置方法

### 使用命令

|      | 抖音                           | B 站                    |
| ---- | ------------------------------ | ----------------------- |
|      | `#设置抖音推送 + 抖音号`       | `#设置B站推送 + UID`    |
| 例子 | `#设置抖音推送yuanshen_mihoyo` | `#设置B站推送401742377` |

::: tip
再发送一次 **相同的命令** 即可取消在当前群的推送
:::

> [!NOTE]
>
> 如果换号了，需要手动更改配置文件中的推送账号或者重新订阅，也可以使用 `#kkk设置推送机器人 + 机器人账号` 命令来修改机器人账号，因为订阅推送时会将当前机器人账号和群聊互相绑定

### 手动修改配置文件

请务必查看该例子后再手动修改，也可使用命令快速配置
::: code-group

```yaml [pushlist.yaml]
# 抖音推送列表
douyin:
  - # 抖音博主的长ID（可不填，执行推送时会自动填上）
    sec_uid:
    # 必填，抖音号
    short_id:
    # 必填，推送群号和机器人账号，多个则使用逗号隔开（例子：[12345678:87654321, 11451419:88888888]，群号就是11451419，机器人账号就是88888888）
    group_id:
      - 群号1:机器人账号1
      - 群号2:机器人账号1
      - 群号2:机器人账号2
    # 这个博主的名字信息（可不填，执行推送时会自动填上）
    remark:
# B站推送列表
bilibili:
  - # 必填，B站UP的UID
    host_mid:
    # 必填，推送群号和机器人账号，多个则使用逗号隔开（例子：[12345678:87654321, 11451419:88888888]，群号就是11451419，机器人账号就是88888888）
    group_id:
      - 群号1:机器人账号1
      - 群号2:机器人账号1
      - 群号2:机器人账号2
    # 这个UP主的名字信息（可不填，执行推送时会自动填上）
    remark:
```

:::

<div align="center" style="padding: 2em; margin: 2em 0; border: 1px solid var(--vp-c-text-1); border-radius: 8px">

<p align="left">问: 推送的逻辑是什么？</p>
<p align="left">答: 只会推送博主/UP主在当天内发布的所有内容</p>

公式（单位：timestamp）: [^1]
$$(\text{now time} - \text{86400}) < \textcolor{red}{\text{true}} < \text{now time}$$

[^1]: 1 天 = 86400

</div>

## TODO
